# default windows have no title bar
default_border pixel
default_floating_border pixel

# key modifier aliases
set $alt   mod1
set $super mod4

# exec without waiting
set $fork exec --no-startup-id

# while holding floating_modifier:
# left drag to move, right drag to resize
floating_modifier $super

# kill focused window
bindsym $super+q kill

# create layout
bindsym $super+s split v
bindsym $super+v split h

# change layout of container
bindsym shift+$super+d layout default
bindsym shift+$super+s layout stacking
bindsym shift+$super+w layout tabbed
bindsym shift+$super+x layout toggle split

# focus window
bindsym $super+h focus left
bindsym $super+j focus down
bindsym $super+k focus up
bindsym $super+l focus right

# focus output
bindsym $alt+$super+h focus output left
bindsym $alt+$super+j focus output down
bindsym $alt+$super+k focus output up
bindsym $alt+$super+l focus output right

# move window
bindsym shift+$super+h move left
bindsym shift+$super+j move down
bindsym shift+$super+k move up
bindsym shift+$super+l move right

bindsym $super+a focus parent
bindsym $super+z focus child

# fullscreen for current and all displays
bindsym       ctrl+$super+f fullscreen toggle
bindsym shift+ctrl+$super+f fullscreen toggle global

# center floating window
bindsym $super+c move absolute position center

# focus/move between tiled/floating layer
bindsym       $super+BackSpace focus mode_toggle
bindsym shift+$super+BackSpace floating toggle

# floating window will always be visible
bindsym ctrl+$super+BackSpace sticky toggle

# focus/move between tiled/scratchpad layer
bindsym       $super+backslash scratchpad show
bindsym shift+$super+backslash move scratchpad

# new windows are not focused
focus_on_window_activation urgent

# focus urgent window
bindsym $super+grave [urgent=latest] focus

# add/remove/clear marks
bindsym            $super+m exec i3-input -F 'mark %s' -l 1 -P 'mark: '
bindsym      shift+$super+m [con_id="__focused__"] unmark
bindsym ctrl+shift+$super+m unmark

# go to marked window
bindsym $super+apostrophe exec i3-input -F '[con_mark="%s"] focus' -l 1 -P 'goto: '

# focus workspace
bindsym $super+1   workspace number 1
bindsym $super+2   workspace number 2
bindsym $super+3   workspace number 3
bindsym $super+4   workspace number 4
bindsym $super+5   workspace number 5
bindsym $super+6   workspace number 6
bindsym $super+7   workspace number 7
bindsym $super+8   workspace number 8
bindsym $super+9   workspace number 9
bindsym $super+0   workspace number 10
bindsym $super+n   workspace next_on_output
bindsym $super+p   workspace prev_on_output
bindsym $super+Tab workspace back_and_forth

# move container to workspace
bindsym shift+$super+1   move container to workspace number 1
bindsym shift+$super+2   move container to workspace number 2
bindsym shift+$super+3   move container to workspace number 3
bindsym shift+$super+4   move container to workspace number 4
bindsym shift+$super+5   move container to workspace number 5
bindsym shift+$super+6   move container to workspace number 6
bindsym shift+$super+7   move container to workspace number 7
bindsym shift+$super+8   move container to workspace number 8
bindsym shift+$super+9   move container to workspace number 9
bindsym shift+$super+0   move container to workspace number 10
bindsym shift+$super+n   move container to workspace next_on_output
bindsym shift+$super+p   move container to workspace prev_on_output
bindsym shift+$super+Tab move container to workspace back_and_forth

# rename the workspace (prefix with -9 to focus with super+0-9)
bindsym $super+F2 exec i3-input -F 'rename workspace to "%s"' -P 'workspace name: '

# move container to output
bindsym shift+$alt+$super+h move container to output left
bindsym shift+$alt+$super+j move container to output down
bindsym shift+$alt+$super+k move container to output up
bindsym shift+$alt+$super+l move container to output right

# move workspace to output
bindsym shift+ctrl+$super+h move workspace to output left
bindsym shift+ctrl+$super+j move workspace to output down
bindsym shift+ctrl+$super+k move workspace to output up
bindsym shift+ctrl+$super+l move workspace to output right

# toggle status
bindsym $super+y bar mode toggle

# toggle window border
bindsym $super+u border toggle

# reload config
bindsym shift+$super+c reload

# restart window manager
bindsym shift+$super+r restart

set $resize_px  40
set $resize_ppt 4

# grow edges
bindsym ctrl+$super+h resize grow left  $resize_px px or $resize_ppt ppt
bindsym ctrl+$super+j resize grow down  $resize_px px or $resize_ppt ppt
bindsym ctrl+$super+k resize grow up    $resize_px px or $resize_ppt ppt
bindsym ctrl+$super+l resize grow right $resize_px px or $resize_ppt ppt

# shrink edges
bindsym ctrl+$alt+$super+h resize shrink left  $resize_px px or $resize_ppt ppt
bindsym ctrl+$alt+$super+j resize shrink down  $resize_px px or $resize_ppt ppt
bindsym ctrl+$alt+$super+k resize shrink up    $resize_px px or $resize_ppt ppt
bindsym ctrl+$alt+$super+l resize shrink right $resize_px px or $resize_ppt ppt

# send command to i3
bindsym $super+semicolon exec i3-input -P:

# session commands
set $mode_session session: (q)uit, (l)ock, (s)uspend, (h)ibernate, (r)eboot, (p)oweroff
mode "$mode_session" {
	# exit window manager
	bindsym q $fork i3exit quit, mode "default"
	# lock screen
	bindsym l $fork i3exit lock, mode "default"
	# lock screen, then suspend/hibernate
	bindsym s $fork i3exit suspend,   mode "default"
	bindsym h $fork i3exit hibernate, mode "default"
	# reboot/poweroff
	bindsym r $fork i3exit reboot,   mode "default"
	bindsym p $fork i3exit poweroff, mode "default"
	# exit mode
	bindsym Return mode "default"
	bindsym Escape mode "default"
}
bindsym shift+$super+q mode "$mode_session"

# used in status bar and dialogs
font pango:Monospace Bold 8

set $dark   #000000
set $bold   #ffffff
set $text   #4c4c4c
set $border #191919
set $marker #667f33
set $urgent #993333
set $focus  #7f3fb2

client.background $dark

#class                  border  bg      text  indicator child_border
client.urgent           $bold   $urgent $bold $marker   $bold
client.focused          $focus  $focus  $bold $marker   $focus
client.focused_inactive $border $border $bold $border   $border
client.unfocused        $border $border $text $border   $border
client.placeholder      $border $border $text $border   $border

bar {
	position top

	mode dock
	hidden_state hide
	modifier $super

	binding_mode_indicator on

	status_command py3status
	tray_output primary
	separator_symbol "  "

	# mouse wheel over statusbar
	bindsym button4 workspace prev_on_output
	bindsym button5 workspace next_on_output

	colors {
		background $dark
		separator  $border
		statusline $bold

		#class             border  bg      text
		urgent_workspace   $bold   $urgent $bold
		active_workspace   $bold   $focus  $bold
		focused_workspace  $bold   $focus  $bold
		inactive_workspace $border $dark   $text
	}
}

# windows that should float by default

for_window [window_role="pop-up"]         floating enable
for_window [window_role="task_dialog"]    floating enable
for_window [window_role="toolbox_window"] floating enable

for_window [title="Preferences$"]               floating enable
for_window [class="(Xmessage|Zenity|Pinentry)"] floating enable
for_window [class="System-config-printer.py"]   floating enable
for_window [class="Pavucontrol"]                floating enable
for_window [class="Blueman-manager"]            floating enable
