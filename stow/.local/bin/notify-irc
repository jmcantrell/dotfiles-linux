#!/usr/bin/env bash

channel=${1:?missing channel}
nick=${2:?missing nickname}
message=${3:?missing message}

icon=/usr/share/icons/hicolor/32x32/apps/weechat.png

max_length=32
if ((${#message} > max_length)); then
    message="${message:0:$max_length}..."
fi

notify-send -i "$icon" "$channel" "$nick: $message"
