#!/usr/bin/env bash

# Focus a window chosen using a menu.

set -eu

read -r -d $'\t' window_id < <(
    swaymsg -t get_tree |
        jq -r ".. | select(.id? and .pid?) | \"\(.id)\t\(.name)\"" |
        sort -n |
        bemenu -p windows -l 20
)

if [[ -n $window_id ]]; then
    exec swaymsg "[con_id=$window_id] focus"
fi
