#!/usr/bin/env bash

# Run qutebrowser using a dedicated session directory.

set -euo pipefail

profiles_dir=${XDG_DATA_HOME:-$HOME/.local/share}/qutebrowser/profiles

if [[ ! -v 1 ]]; then
    printf "The first argument must be a profile name\n" >&2
    exit 1
fi

profile_name=$1

shift

directory=$profiles_dir/$profile_name

export QUTEBROWSER_PROFILE_NAME=$profile_name
exec qutebrowser-local "$directory" "$@"
