#!/usr/bin/env bash

# Run qutebrowser using a temporary session directory.

set -eu

directory=$(mktemp -d -t "${0##*/}.XXXXXXXXXX")
printf -v cleanup "rm -rf %q" "$directory"
trap "$cleanup" INT TERM EXIT

export QUTEBROWSER_PROFILE_NAME=${directory##*.}
exec qutebrowser-local "$directory" "$@"
