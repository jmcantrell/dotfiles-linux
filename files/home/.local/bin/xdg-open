#!/usr/bin/env bash

# Pretend rifle is xdg-open.
# Usage: xdg-open FILE...

set -euo pipefail

files=()
for arg in "$@"; do
    # Since we're masquerading as xdg-open, we need to handle file URLs
    if [[ $arg == file://* ]]; then
        file=${file#file://}
    fi
    files+=("$file")
done

exec rifle "${files[@]}"
