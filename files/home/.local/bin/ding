#!/usr/bin/env bash

set -euo pipefail

if [[ ! -v WAYLAND_DISPLAY || ! -v DISPLAY ]]; then
    exec "$@"
fi

if "$@"; then
    sound=complete
else
    sound=dialog-error
fi

canberra-gtk-play --id="$sound" &

if [[ -v SWAYSOCK ]]; then
    sway-window-set-urgent
fi
